## 项目需求与里程碑 — 专交遇见你

此文档基于你提供的思维导图（`专交遇见你.pdf`）整理，目标是把高层需求拆解为可实现的功能点、验收标准与里程碑（MVP 与后续迭代）。

### 一、总体目标
- 提供报名/认证、匹配/组队、打卡/活动、广场展示与管理员后台等功能，支持多人匹配与双向确认流程。

### 二、关键功能点与验收标准
1) 注册 / 登录（用户账户）
   - 字段：用户名、邮箱（必须唯一）、密码、头像、性别、年级、院系、学号、QQ（可选）
   - 接口：POST `/oauth/register/`、POST `/oauth/login/`（JWT or session）
   - 验收：能使用邮箱+密码注册并登录，登录返回 token 或会话；密码以 Django 密码机制存储。

2) 用户资料与报名（application）
   - 字段：个人基本信息 + 匹配偏好（期望性别、年级/专业、是否接受跨院系等）
   - 接口：GET/POST `/applications/`（或 `/profile/`）
   - 验收：用户能提交资料并查看自己的申请详情，字段校验（邮箱唯一、QQ 可空）。

3) 匹配与组队
   - 描述：基于偏好进行轮次匹配；匹配候选人双方需确认才能成队。
   - 行为：支持一次性匹配与多轮匹配；支持优先级规则（例如优先按专业/年级匹配）。
   - 接口（MVP）：POST `/match/run/`（触发一次匹配）、GET `/match/results/`、POST `/match/confirm/`
   - 验收：运行匹配后生成候选对，候选人能接受或拒绝，双方都接受后生成队伍记录。

4) 打卡与活动
   - 描述：创建活动（周期、任务），用户参与并提交打卡；管理员可审核并在广场展示。
   - 接口：POST `/tasks/activity/`（创建活动，管理员）、POST `/tasks/checkin/`（用户打卡）、GET `/tasks/feed/`（广场）
   - 验收：活动能创建并在期限内接受打卡，打卡可附图片/文本，管理员能审核并将条目设为公开。

5) 广场（展示）
   - 描述：公开展示用户打卡/可审核内容，支持分页与搜索。
   - 验收：广场返回已审核的打卡项，包含作者、时间、内容、图片。

6) 管理后台
   - 描述：使用 Django admin 管理用户、活动、打卡记录与匹配结果。
   - 验收：管理员能通过 `/admin/` 查看/编辑上述模型。

7) 运维与部署
   - 说明：提供本地运行步骤、备份/恢复说明以及生产部署说明（docker/systemd）。

### 三、MVP（优先级）
优先实现能够演示“注册→报名→匹配→打卡→组队”的最小闭环：
1. 注册/登录 + 用户资料（用户模型/应用）
2. 报名接口（applications）
3. 简版匹配算法 + 结果确认（match 简版）
4. 活动+打卡（tasks）+广场展示（posts）
5. 管理后台（admin）

### 四、里程碑与时间箱（示例）
- 第 1 周：整理需求（已完成）、建立 backlog、准备本地开发环境（sqlite）
- 第 2 周：实现注册/登录、用户资料、admin 可用
- 第 3 周：实现报名 & 简单匹配（候选+确认）并写基本测试
- 第 4 周：实现打卡/活动与广场展示，完成演示脚本

### 五、工程映射（仓库现状）
- 已存在 app：`users`, `applications`, `teams`, `tasks`, `posts`, `academies`, `oauth`。
- 建议：先基于现有模型扩展 API 并补充缺失迁移，尽量复用现有 serializers/views。

### 六、初始验收用例（示例）
1. 注册/登录：Create user → POST /oauth/login → 返回 200 + token
2. 报名：登录后 POST /applications/ with profile → GET /applications/{id} → 返回已保存数据
3. 匹配：准备 4 个用户数据，运行 /match/run/ → 返回候选配对 → 双方 POST /match/confirm/ → 最终生成队伍
4. 打卡：管理员创建活动；用户 POST /tasks/checkin/ → 管理员审核；GET /posts/ 返回已审核内容

### 七、下一步（我将按此顺序推进）
1. 在代码库中创建 backlog（已完成）并开始实现注册/登录相关 API（含单元测试）。
2. 校对现有模型/迁移，补充本地 sqlite 的迁移（我会在本地先跑并验证）。
3. 实现简版匹配与确认流程。

---
文件自动生成于仓库：`docs/FEATURES_AND_MILESTONES.md`。
